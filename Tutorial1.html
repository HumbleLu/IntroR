<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Course Material [1]</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Introduction to R</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="Tutorial1.html">Course Material [1]</a>
</li>
<li>
  <a href="Tutorial2.html">Course Material [2]</a>
</li>
<li>
  <a href="Exercise.html">Exercise Example</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Course Material [1]</h1>

</div>


<div id="getting-started" class="section level2">
<h2>0. Getting Started!</h2>
</div>
<div id="why-learning-r" class="section level2">
<h2>Why Learning R?</h2>
<ul>
<li>Free (impotrant!)</li>
<li>Massive statistical packages</li>
<li>More and more popular in both academia and industry</li>
<li><p><em>… Millions of other reasons</em></p></li>
<li>Download R from <a href="https://cran.r-project.org/mirrors.html">CRAN</a></li>
<li><p>You can also Download an useful GUI called <a href="https://www.rstudio.com/products/rstudio/">RStudio</a></p></li>
</ul>
<div id="rstudio" class="section level3">
<h3>RStudio</h3>
<p>Create a script by clicking <em>File</em> &gt;&gt; <em>New File</em> &gt;&gt; <em>R Script</em></p>
<p>To execute your code, highlight the code you wish to execute and press <em>Ctrl + Enter</em></p>
<p><img src="rstudio.png" width="500" /> <br></p>
</div>
<div id="rgui-windows" class="section level3">
<h3>RGui (Windows)</h3>
<p>Create a script by clicking <em>File</em> &gt;&gt; <em>New Script</em></p>
<p>To execute your code, highlight the code you wish to execute and press <em>F5</em></p>
<div class="figure">
<img src="rwindows.jpg" width="500" />

</div>
<p><br></p>
</div>
<div id="rgui-mac-os" class="section level3">
<h3>RGui (Mac OS)</h3>
<p>Create a script by clicking <em>File</em> &gt;&gt; <em>New Document</em></p>
<p>To execute your code, highlight the code you wish to execute and press <em>Ctrl + Enter</em></p>
<div class="figure">
<img src="rapple.png" width="500" />

</div>
<p><br></p>
</div>
<div id="set-up-the-working-directory" class="section level3">
<h3>Set up the working directory</h3>
<pre class="r"><code>getwd()</code></pre>
<p>List all the files/folders under the current working directory</p>
<pre class="r"><code>dir()</code></pre>
<p>Change the working directory (mind the <code>/</code>)</p>
<pre class="r"><code>setwd(&quot;/Users/chienlu/Desktop&quot;)</code></pre>
</div>
<div id="quit-the-r-session" class="section level3">
<h3>Quit the R session</h3>
<pre class="r"><code>q()</code></pre>
</div>
<div id="exercise-pack-0" class="section level3">
<h3><em>Exercise Pack 0</em></h3>
<ol style="list-style-type: decimal">
<li>Check your current directory with the function <code>getwd</code>.</li>
<li>Change your working directory to your desktop and list all the file/folders</li>
</ol>
</div>
</div>
<div id="r-as-calculator" class="section level2">
<h2>1. R as Calculator</h2>
<p>You can start with playing around with R, use it as a calculator</p>
<pre class="r"><code>1 + 3
#&gt; [1] 4
6*(5-1)
#&gt; [1] 24</code></pre>
<p>Some useful operators:</p>
<ul>
<li><code>+</code>: addition</li>
<li><code>-</code>: subtraction</li>
<li><code>*</code>: multiplication</li>
<li><code>/</code>: division</li>
<li><code>x %% y</code>: modulus (Remainder from division)</li>
<li><code>x %/% y</code>: integer division</li>
<li><code>^ or **</code>: exponentiation, e.g. <code>3^2</code> or <code>3**2</code> to compute <span class="math inline">\(3^2\)</span></li>
</ul>
<p><strong>?</strong> What is the output of the following code?</p>
<ul>
<li><code>-1^2</code> = ?</li>
<li><code>(-1)^2</code> = ?</li>
</ul>
<p>You can also try out some more complicated (fancier) computations, such as Trigonometric functions (high school nightmare):</p>
<ul>
<li><code>sin()</code>: sine</li>
<li><code>cos()</code>: cosine</li>
<li><code>tan()</code>: tangent</li>
<li><code>exp()</code>: Exponential with base <em>e</em></li>
<li><code>log()</code>: Logarithm</li>
<li><code>log10()</code>: Logarithm with the base 10</li>
<li><code>sqrt()</code>: Square root</li>
<li><code>abs()</code>: Absolute value</li>
<li><code>round()</code>: Round the value</li>
<li><code>floor()</code>: Round down the value</li>
<li><code>ceiling()</code>: Round up the value</li>
<li><code>factorial()</code>: Factorial function</li>
<li><code>gamma()</code>: Gamma function</li>
<li><code>digamma()</code>: Digamma function</li>
<li>…</li>
</ul>
<p><strong>?</strong> What are the solutions to the following equations</p>
<ul>
<li>sin(<span class="math inline">\(\frac{\pi}{2}\)</span>) = ?</li>
<li>cos(<span class="math inline">\(\pi\)</span>) = ?</li>
<li>tan(<span class="math inline">\(\frac{\pi}{4}\)</span>) = ?</li>
</ul>
<p><strong>?</strong> Can you verify if the function <code>factorial</code> returns the correct result of <span class="math inline">\(5!\)</span>?</p>
<pre class="r"><code>5*4*3*2*1
#&gt; [1] 120
factorial(5)
#&gt; [1] 120</code></pre>
<p>where <code>&lt;-</code> is the assignment operator</p>
<div id="exercise-pack-1" class="section level3">
<h3><em>Exercise Pack 1</em></h3>
<ol style="list-style-type: decimal">
<li>Calculate the volume of a sphere (ball) whose raduis <span class="math inline">\(r = 2\)</span></li>
<li>What is <span class="math inline">\(35^\circ C\)</span> in Fahrenheit (<span class="math inline">\(^\circ F\)</span>)?</li>
<li>Use 5 different <span class="math inline">\(\theta\)</span> values to calculate the result of <span class="math inline">\(sin(\theta)^2 + cos(\theta)^2\)</span></li>
<li>In a right triangle with sides <span class="math inline">\(a = b = 2 &lt; c\)</span>, how long is <span class="math inline">\(c\)</span>? (Use Pythagorean Theorem)</li>
</ol>
</div>
</div>
<div id="basic-r-objects" class="section level2">
<h2>2. Basic R Objects</h2>
<div id="declare-value" class="section level3">
<h3>Declare value</h3>
<p>Use <code>&lt;-</code> to declare a value to an object.</p>
<pre class="r"><code>x&lt;- 1
x
#&gt; [1] 1</code></pre>
<p>of course, using <code>=</code> to assign the value also works.</p>
<pre class="r"><code>x = 1
x
#&gt; [1] 1</code></pre>
<p>Use <code>class</code>, <code>mode</code> or <code>typeof</code> to check the type of the object.</p>
<pre class="r"><code>x&lt;- 1.1
class(x)
#&gt; [1] &quot;numeric&quot;
mode(x)
#&gt; [1] &quot;numeric&quot;
typeof(x)
#&gt; [1] &quot;double&quot;</code></pre>
</div>
<div id="working-environment" class="section level3">
<h3>Working environment</h3>
<p>List all the objects under the current working environment.</p>
<pre class="r"><code>ls()</code></pre>
<ul>
<li><code>rm()</code> remove object</li>
<li><code>object.size()</code> memory used by the object</li>
</ul>
<p>Remove all the objects under the current working environment.</p>
<pre class="r"><code>rm(list = ls())</code></pre>
</div>
<div id="numbers" class="section level3">
<h3>Numbers</h3>
<p>Numeric (real number)</p>
<pre class="r"><code>x&lt;- 0.8
class(x)
#&gt; [1] &quot;numeric&quot;</code></pre>
<p>Complex number</p>
<pre class="r"><code>x&lt;- 3+0i                
class(x)
#&gt; [1] &quot;complex&quot;</code></pre>
<p>Scientific notation</p>
<pre class="r"><code>x&lt;- 9.6e-4            </code></pre>
<p>Infinity (use <code>is.infinite</code> or <code>is.finite</code> to test)</p>
<pre class="r"><code>x&lt;- 1/0
x
#&gt; [1] Inf

is.infinite(x)
#&gt; [1] TRUE
is.finite(x)
#&gt; [1] FALSE</code></pre>
<p>Not a number (undefined result, use <code>is.nan</code> to test)</p>
<pre class="r"><code>x&lt;- 0/0
x
#&gt; [1] NaN
is.nan(x)
#&gt; [1] TRUE</code></pre>
<p>Null object (use <code>is.null</code> to test)</p>
<pre class="r"><code>x&lt;- NULL
is.null(x)
#&gt; [1] TRUE</code></pre>
<p>Not available/missing value (use <code>is.na</code> to test)</p>
<pre class="r"><code>x&lt;- NA
is.na(x)
#&gt; [1] TRUE
is.nan(x)
#&gt; [1] FALSE</code></pre>
<p>Use <code>identical</code> to check if two objects are identical</p>
<pre class="r"><code>x&lt;- 1e-3
y&lt;- 0.001
identical(x, y)
#&gt; [1] TRUE</code></pre>
</div>
<div id="logical" class="section level3">
<h3>Logical</h3>
<pre class="r"><code>x&lt;- TRUE
x
#&gt; [1] TRUE

y&lt;- FALSE
y
#&gt; [1] FALSE</code></pre>
<p>or</p>
<pre class="r"><code>x&lt;- T
x
#&gt; [1] TRUE

y&lt;- F
y
#&gt; [1] FALSE</code></pre>
<p>Some logical operators</p>
<ul>
<li><code>!</code>: not</li>
<li><code>==</code>: exactly equal to</li>
<li><code>!=</code>: not equal to</li>
<li><code>&amp;</code>: and</li>
<li><code>|</code>: or</li>
<li><code>&lt;</code>: less than</li>
<li><code>&lt;=</code>: less than or equal to</li>
<li><code>&gt;</code>: greater than</li>
<li><p><code>&gt;=</code>: greater than or equal to</p></li>
<li><strong>?</strong> <code>!!!T | !F</code> = ?</li>
<li><strong>?</strong> <code>T &gt; F</code> = ?</li>
<li><p><strong>?</strong> <code>T + F</code> = ?</p></li>
</ul>
</div>
<div id="strings" class="section level3">
<h3>Strings</h3>
<pre class="r"><code>a &lt;- &quot;hello&quot;
a
#&gt; [1] &quot;hello&quot;
class(a)
#&gt; [1] &quot;character&quot;
print(&quot;Hello R!&quot;)
#&gt; [1] &quot;Hello R!&quot;</code></pre>
</div>
<div id="functions" class="section level3">
<h3>Functions</h3>
<p>Define your own function with <code>function</code>.</p>
<pre class="r"><code>my_square&lt;- function(x){
  x^2
}

my_square(4)
#&gt; [1] 16</code></pre>
<p>or</p>
<pre class="r"><code>my_plus&lt;- function(x, y){
  x + y
}

my_plus(2, 3)
#&gt; [1] 5</code></pre>
<p>Note that the last element in the function will be returned as the output value. Or you can use <code>return</code> to specify your output value.</p>
<pre class="r"><code>my_square&lt;- function(x){
  return(x^2)
  x^3 # does not affect the output
}

my_square(4)
#&gt; [1] 16</code></pre>
</div>
<div id="exercise-pack-2" class="section level3">
<h3><em>Exercise Pack 2</em></h3>
<ol style="list-style-type: decimal">
<li>Check <code>identical(as.integer(5), 5.0)</code> and <code>as.integer(5.0) == 5</code>, which one is TRUE?</li>
<li>List all object under the current environment. Check the memory used by the first object in the list.</li>
<li>Check the types of the following objects</li>
</ol>
<ul>
<li><code>Inf - Inf</code></li>
<li><code>Inf + Inf</code></li>
<li><code>0/0</code></li>
<li><code>sin(Inf)</code></li>
<li><code>Inf/0</code></li>
</ul>
<ol start="4" style="list-style-type: decimal">
<li>Complete the following function to compute the area of an ellipse where <code>a</code> and <code>b</code> are the axes.</li>
</ol>
<pre class="r"><code>ellipse_area&lt;- function(a, b){
  
}

ellipse_area(3, 5)</code></pre>
</div>
</div>
<div id="data-structures" class="section level2">
<h2>3. Data structures</h2>
<div id="vectors" class="section level3">
<h3>Vectors</h3>
<p>All the elements in a vector should be of the same object type.</p>
<p>Use <code>c</code> to create a <em>vector</em></p>
<pre class="r"><code>## number
exp_1&lt;- c(1, 2, 3, 4, 5)
exp_1
#&gt; [1] 1 2 3 4 5

## logical
exp_2&lt;- c(TRUE, FALSE, FALSE, TRUE)
exp_2
#&gt; [1]  TRUE FALSE FALSE  TRUE

## string
exp_3&lt;- c(&quot;I&quot;, &quot;am&quot;, &quot;a&quot;, &quot;meaningless&quot;, &quot;example&quot;)
exp_3
#&gt; [1] &quot;I&quot;           &quot;am&quot;          &quot;a&quot;           &quot;meaningless&quot; &quot;example&quot;</code></pre>
<p>or use <code>vector</code> to define an empty vector</p>
<pre class="r"><code>emp_vec&lt;- vector()
emp_vec
#&gt; logical(0)</code></pre>
<p>Use <code>seq</code> to create a vector with sequential numbers</p>
<pre class="r"><code>a&lt;- seq(from = 1, to = 5, by = 1)
a
#&gt; [1] 1 2 3 4 5</code></pre>
<p>or just simply:</p>
<pre class="r"><code>a&lt;- 1:5
a
#&gt; [1] 1 2 3 4 5</code></pre>
<p>Use <code>rep</code> to create a vector with replicate elements</p>
<pre><code>b&lt;- rep(x = 1, times = 3)
b</code></pre>
<p>Use <code>sample</code> to create a vector with random numbers</p>
<pre class="r"><code>s&lt;- sample(1:100, 5)
s
#&gt; [1] 35 96 78 88 91</code></pre>
<ul>
<li><code>min()</code> and <code>max()</code>: Minimum value and maximum value within a vector</li>
<li><code>which.min()</code> and <code>which.max()</code>: Index of the minimal element and maximal element of a vector</li>
<li><code>pmin()</code> and <code>pmax()</code>: Element-wise minima and maxima of several vectors</li>
<li><code>sum()</code> and <code>prod()</code>: Sum and product of the elements of a vector</li>
<li><code>cumsum()</code> and <code>cumprod()</code>: Cumulative sum and product of the elements of a vector</li>
</ul>
<pre class="r"><code>s&lt;- sample(1:100, 5)
s
#&gt; [1] 64 82 54 10 46

min(s)
#&gt; [1] 10
max(s)
#&gt; [1] 82
which.min(s)
#&gt; [1] 4
which.max(s)
#&gt; [1] 2</code></pre>
<p>Concatenate vectors</p>
<pre class="r"><code>vec_1&lt;- c(1, 1, 1)
vec_2&lt;- c(2, 2, 2)
vec_join&lt;- c(vec_1, vec_2)
vec_join
#&gt; [1] 1 1 1 2 2 2

vec_3&lt;- c(3, 3, 3)
vec_join&lt;- c(vec_1, vec_2, vec_3)
vec_join
#&gt; [1] 1 1 1 2 2 2 3 3 3</code></pre>
<p>Subset a vector</p>
<pre class="r"><code>a&lt;- c(1, 2, 3, 4, 5)

# extract with indices
a[c(1, 3, 5)]
#&gt; [1] 1 3 5

# extract with logicals
a[c(T, F, T, F, T)]
#&gt; [1] 1 3 5

a %% 2 == 1
#&gt; [1]  TRUE FALSE  TRUE FALSE  TRUE

a[(a %% 2 == 1)]
#&gt; [1] 1 3 5

# omit
a[-c(2, 4)]
#&gt; [1] 1 3 5

a[-which(a %% 2 == 0)]
#&gt; [1] 1 3 5</code></pre>
<p><code>NA</code> values in a vector</p>
<pre class="r"><code>a&lt;- c(1, NA, 2, NA, 3)
a
#&gt; [1]  1 NA  2 NA  3

b&lt;- c(1, 2, 3, 4, 5)
b * c(1, NA, 1, NA, 1)
#&gt; [1]  1 NA  3 NA  5

# replace NA with 0
a[is.na(a)]&lt;- 0
a
#&gt; [1] 1 0 2 0 3</code></pre>
<p>Vectorized computation</p>
<pre class="r"><code>a&lt;- c(1, 2, 3, 4)
b&lt;- c(5, 6, 7, 8)

a + b
#&gt; [1]  6  8 10 12
a * b
#&gt; [1]  5 12 21 32</code></pre>
<ul>
<li><strong>?</strong> <code>a = c(1, 2, 3, 4)</code> and <code>b = c(1, 2, 3)</code> What is the value of <code>a*b</code>?</li>
</ul>
</div>
<div id="factors" class="section level3">
<h3>Factors</h3>
<p>Represente categorical data with specifying levels (e.g. gender, education). A factor is stored as a vector of integers with corresponding labels.</p>
<pre class="r"><code>x&lt;- c(&quot;Python user&quot;, &quot;R user&quot;, &quot;C++ user&quot;, &quot;R user&quot;, &quot;C++ user&quot;, &quot;JAVA user&quot;, &quot;R user&quot;)
f_x&lt;- factor(x)
f_x
#&gt; [1] Python user R user      C++ user    R user      C++ user    JAVA user  
#&gt; [7] R user     
#&gt; Levels: C++ user JAVA user Python user R user
levels(f_x)
#&gt; [1] &quot;C++ user&quot;    &quot;JAVA user&quot;   &quot;Python user&quot; &quot;R user&quot;
nlevels(f_x)
#&gt; [1] 4
class(f_x)
#&gt; [1] &quot;factor&quot;
summary(f_x)
#&gt;    C++ user   JAVA user Python user      R user 
#&gt;           2           1           1           3</code></pre>
<p>or assign the labels you prefer</p>
<pre class="r"><code>x&lt;- c(1, 2, 1, 2, 1, 1, 1)
f_x&lt;- factor(x, labels = c(&quot;male&quot;, &quot;female&quot;))
f_x
#&gt; [1] male   female male   female male   male   male  
#&gt; Levels: male female
summary(f_x)
#&gt;   male female 
#&gt;      5      2</code></pre>
<p>or by spliting a vector into groups with the function <code>cut</code></p>
<pre class="r"><code>x&lt;- c(12, 64, 47, 36, 31, 64, 25, 34,  6, 89)
f_x&lt;- cut(x, c(0, 14, 64, 100))
f_x
#&gt;  [1] (0,14]   (14,64]  (14,64]  (14,64]  (14,64]  (14,64]  (14,64] 
#&gt;  [8] (14,64]  (0,14]   (64,100]
#&gt; Levels: (0,14] (14,64] (64,100]

levels(f_x)&lt;- c(&quot;child&quot;, &quot;labor&quot;, &quot;aged&quot;)
summary(f_x)
#&gt; child labor  aged 
#&gt;     2     7     1</code></pre>
</div>
<div id="matrices" class="section level3">
<h3>Matrices</h3>
<p>Define a matrix</p>
<pre class="r"><code>x&lt;- matrix(1:15, nrow = 3, ncol = 5)
x
#&gt;      [,1] [,2] [,3] [,4] [,5]
#&gt; [1,]    1    4    7   10   13
#&gt; [2,]    2    5    8   11   14
#&gt; [3,]    3    6    9   12   15</code></pre>
<p>Subset a matrix</p>
<pre class="r"><code>x&lt;- matrix(1:15, nrow = 3, ncol = 5)
x[2,]
#&gt; [1]  2  5  8 11 14
x[,1]
#&gt; [1] 1 2 3
x[2,1:3]
#&gt; [1] 2 5 8
x[1:2,c(1,3)]
#&gt;      [,1] [,2]
#&gt; [1,]    1    7
#&gt; [2,]    2    8</code></pre>
</div>
<div id="arrays" class="section level3">
<h3>Arrays</h3>
<p>Define an array</p>
<pre class="r"><code>x&lt;- array(1:24, dim = c(4, 3, 2))
x
#&gt; , , 1
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    5    9
#&gt; [2,]    2    6   10
#&gt; [3,]    3    7   11
#&gt; [4,]    4    8   12
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]   13   17   21
#&gt; [2,]   14   18   22
#&gt; [3,]   15   19   23
#&gt; [4,]   16   20   24

x[3,,]
#&gt;      [,1] [,2]
#&gt; [1,]    3   15
#&gt; [2,]    7   19
#&gt; [3,]   11   23
x[3,2,]
#&gt; [1]  7 19
x[3,2,1]
#&gt; [1] 7</code></pre>
</div>
<div id="lists" class="section level3">
<h3>Lists</h3>
<pre class="r"><code>x&lt;- list(name = &quot;miina&quot;, age = 25, score = 1, pass = T, gender = &quot;female&quot;)
length(x)
#&gt; [1] 5
x$name
#&gt; [1] &quot;miina&quot;
x[2]
#&gt; $age
#&gt; [1] 25
x[[3]]
#&gt; [1] 1
x[&quot;pass&quot;]
#&gt; $pass
#&gt; [1] TRUE
x[[&quot;gender&quot;]]
#&gt; [1] &quot;female&quot;</code></pre>
</div>
<div id="data-frames" class="section level3">
<h3>Data Frames</h3>
<p>A data frame generalized matrix in which each column may have different object types. It can be also seen as aa list of colume vectors with all equal length, thus, the way to extract the colums is the same as how you do on a list.</p>
<pre class="r"><code>toy_dat&lt;- data.frame(id = 1:5, age = c(15, 5, 11, 10, 95), city = c(&quot;Tampere&quot;, &quot;Pori&quot;, &quot;Tampere&quot;, &quot;Helsinki&quot;, &quot;Turku&quot;))
toy_dat
#&gt;   id age     city
#&gt; 1  1  15  Tampere
#&gt; 2  2   5     Pori
#&gt; 3  3  11  Tampere
#&gt; 4  4  10 Helsinki
#&gt; 5  5  95    Turku
toy_dat$id
#&gt; [1] 1 2 3 4 5
toy_dat[2]
#&gt;   age
#&gt; 1  15
#&gt; 2   5
#&gt; 3  11
#&gt; 4  10
#&gt; 5  95</code></pre>
<p>Import and Export Dataset</p>
<p>The example dataset steam_subset.csv can be downloaded <a href="https://gofile.io/?c=7bP3y4">here</a>. The colums are seperated with comma( , ) and the first line is the column names.</p>
<p>Read the data set from a file with <code>read.table</code>, use functions <code>head</code> and <code>str</code> to check the dataset</p>
<pre class="r"><code>steam&lt;- read.table(file = &quot;steam_subset.csv&quot;, sep = &quot;,&quot;, header = T)
head(steam)
#&gt;   UserId Level Showcases Comments Badges
#&gt; 1      1    17         1       24     10
#&gt; 2      2    55         2      105     47
#&gt; 3      3     0         0       11      0
#&gt; 4      4    16         1       15     12
#&gt; 5      5    52         4       98     38
#&gt; 6      6    27         2        5     41
str(steam)
#&gt; &#39;data.frame&#39;:    500 obs. of  5 variables:
#&gt;  $ UserId   : int  1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ Level    : int  17 55 0 16 52 27 57 14 21 71 ...
#&gt;  $ Showcases: int  1 2 0 1 4 2 5 1 2 7 ...
#&gt;  $ Comments : int  24 105 11 15 98 5 1024 16 25 111 ...
#&gt;  $ Badges   : int  10 47 0 12 38 41 72 10 21 66 ...</code></pre>
<p>or use <code>read.csv</code> to read the file</p>
<pre class="r"><code>steam&lt;- read.csv(file = &quot;steam_subset.csv&quot;, header = T, sep = &quot;,&quot;)
head(steam)
#&gt;   UserId Level Showcases Comments Badges
#&gt; 1      1    17         1       24     10
#&gt; 2      2    55         2      105     47
#&gt; 3      3     0         0       11      0
#&gt; 4      4    16         1       15     12
#&gt; 5      5    52         4       98     38
#&gt; 6      6    27         2        5     41
str(steam)
#&gt; &#39;data.frame&#39;:    500 obs. of  5 variables:
#&gt;  $ UserId   : int  1 2 3 4 5 6 7 8 9 10 ...
#&gt;  $ Level    : int  17 55 0 16 52 27 57 14 21 71 ...
#&gt;  $ Showcases: int  1 2 0 1 4 2 5 1 2 7 ...
#&gt;  $ Comments : int  24 105 11 15 98 5 1024 16 25 111 ...
#&gt;  $ Badges   : int  10 47 0 12 38 41 72 10 21 66 ...</code></pre>
<p>Computation on the variables</p>
<pre class="r"><code>mean(steam$Level)
#&gt; [1] 37.648
sd(steam$Level)
#&gt; [1] 68.99508</code></pre>
<p>Attach a dataset</p>
<pre class="r"><code># stick to it
attach(steam)
mean(Level)
#&gt; [1] 37.648
sd(Level)
#&gt; [1] 68.99508

# get rid of it
detach(steam)</code></pre>
<p>Save the dataset to a csv file</p>
<pre class="r"><code>write.csv(toy_dat, file = &quot;toy.csv&quot;, row.names = F)</code></pre>
</div>
<div id="exercise-pack-3" class="section level3">
<h3><em>Exercise Pack 3</em></h3>
<ol style="list-style-type: decimal">
<li>Create a vector <code>z</code> of length 10 with variance equals to 0 and mean equals to 5. Verify with function <code>mean</code> and <code>var</code>.</li>
<li>Create a function which returns the sum of the maximum and the mininum value of the input vector</li>
<li>Create a function which approximates the sin function with 4th-order taylor series.</li>
<li>Compute the CV (coefficient of variation) values of variables <code>Levels</code> and <code>Badges</code> in the <code>steam</code> dataset.</li>
<li>Create a toy data frame object with at least 5 rows and 3 columns, save it to a .csv file.</li>
</ol>
</div>
</div>
<div id="computations" class="section level2">
<h2>4. Computations</h2>
<div id="loops" class="section level3">
<h3>Loops</h3>
<p>For loop</p>
<pre class="r"><code>for(i in c(1, 3, 5)){
  print(i)
}
#&gt; [1] 1
#&gt; [1] 3
#&gt; [1] 5</code></pre>
<p>or</p>
<pre class="r"><code>for(i in seq(1, 5, 2)){
  print(i)
}
#&gt; [1] 1
#&gt; [1] 3
#&gt; [1] 5</code></pre>
<p>While loop</p>
<pre class="r"><code>i&lt;- 1
while(i &lt;= 5){
  print(i)
  i&lt;- i + 2
}
#&gt; [1] 1
#&gt; [1] 3
#&gt; [1] 5</code></pre>
</div>
<div id="conditional-statement" class="section level3">
<h3>Conditional statement</h3>
<p><code>if</code> statement</p>
<pre class="r"><code>x&lt;- 2
if(x &gt; 0){
print(&quot;Positive number&quot;)
}
#&gt; [1] &quot;Positive number&quot;</code></pre>
<p><code>if</code> … <code>else</code> statement</p>
<pre class="r"><code>x&lt;- -1
if(x &gt; 0){
print(&quot;Positive number&quot;)
} else {
print(&quot;Not a positive number&quot;)
}
#&gt; [1] &quot;Not a positive number&quot;</code></pre>
<p><code>if</code> … <code>else</code> ladder</p>
<pre class="r"><code>x&lt;- 0
if(x &gt; 0){
print(&quot;Positive number&quot;)
} else if(x &lt; 0){
print(&quot;Negative number&quot;)
} else{
  print(&quot;Zero&quot;)
}
#&gt; [1] &quot;Zero&quot;</code></pre>
</div>
<div id="more-functions" class="section level3">
<h3>More Functions</h3>
<p>You can set up a default input</p>
<pre class="r"><code>hello&lt;- function(obj = &quot;R&quot;){
  print(paste(&quot;Hello&quot;, obj, &quot;!&quot;))
}

hello()
#&gt; [1] &quot;Hello R !&quot;
hello(&quot;World&quot;)
#&gt; [1] &quot;Hello World !&quot;</code></pre>
<p>A function can also generate a function. For example, the volume of a <span class="math inline">\(d\)</span>-dimensional hypersphere with radius <span class="math inline">\(r\)</span> is <span class="math inline">\(\frac{\pi^{\frac{d}{2}}}{\Gamma(\frac{d}{2} + 1)} r^d\)</span>.</p>
<pre class="r"><code>hypersphere&lt;- function(d){
  function(r){
    (pi^(d/2)/gamma(d/2 + 1)) * (r^d)
  } 
}</code></pre>
<p>A circle is a 2-dimensional case:</p>
<pre class="r"><code>circle&lt;- hypersphere(2)
circle(1)
#&gt; [1] 3.141593</code></pre>
<p>A ball is a 3-dimensional case:</p>
<pre class="r"><code>ball&lt;- hypersphere(3)
ball(1)
#&gt; [1] 4.18879</code></pre>
<p>or</p>
<pre class="r"><code>hypersphere(2)(1)
#&gt; [1] 3.141593
hypersphere(3)(1)
#&gt; [1] 4.18879</code></pre>
<p>Operators are also functions.</p>
<pre class="r"><code>1 + 1
#&gt; [1] 2
&quot;+&quot;(1,1)
#&gt; [1] 2</code></pre>
<p><strong>?</strong> What is the output of <code>&quot;**&quot;(1, 2)</code> ?</p>
<p>You can also define your operator with <code>%</code></p>
<pre class="r"><code>&quot;%negative prod%&quot;&lt;- function(a, b){
  a * b * (-1)
}

2 %negative prod% 3
#&gt; [1] -6</code></pre>
</div>
<div id="apply-functions" class="section level3">
<h3>Apply functions</h3>
<p><code>apply</code> takes a matrix, the MARGIN detering the row-wise (<code>1</code>) or column-wise (<code>2</code>) computation.</p>
<pre class="r"><code>a&lt;- matrix(1:6, 2, 3)
a
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    3    5
#&gt; [2,]    2    4    6
apply(a, 1, sum)
#&gt; [1]  9 12
apply(a, 2, sum)
#&gt; [1]  3  7 11</code></pre>
<p><code>lapply</code> takes a list or a vector, returns a list.</p>
<pre class="r"><code>lapply(c(1, 2, 3, 4), function(x) x + 1)
#&gt; [[1]]
#&gt; [1] 2
#&gt; 
#&gt; [[2]]
#&gt; [1] 3
#&gt; 
#&gt; [[3]]
#&gt; [1] 4
#&gt; 
#&gt; [[4]]
#&gt; [1] 5</code></pre>
<p><code>lapply</code> takes a list or a vector, returns a vector</p>
<pre class="r"><code>sapply(c(1, 2, 3, 4), function(x) x + 1)
#&gt; [1] 2 3 4 5</code></pre>
</div>
<div id="some-useful-tips" class="section level3">
<h3>Some Useful tips</h3>
<p>You can use <code>#</code> to add comment, the code after will not be executed.</p>
<pre class="r"><code>a&lt;- c(1, 2, 3) #I have no idea why I created this vector</code></pre>
<p>Use <code>?</code> to call R help when you have difficulties.</p>
<pre class="r"><code>?c</code></pre>
</div>
<div id="exercise-pack-4" class="section level3">
<h3><em>Exercise Pack 4</em></h3>
<ol style="list-style-type: decimal">
<li>Use conditional statement to complete the following greeting function. The function prints <code>&quot;good morning&quot;</code>, <code>&quot;good afternoon&quot;</code>, <code>&quot;good evening&quot;</code> or <code>&quot;good night&quot;</code> according to the current hour.</li>
</ol>
<pre class="r"><code>greeting&lt;- function(hour = lubridate::hour(Sys.time())){
  
}

greeting()</code></pre>
<p>Note. <code>lubridate::hour(Sys.time())</code> returns the current hour (0-24).</p>
<ol start="2" style="list-style-type: decimal">
<li>Write a for loop to sum up all the elements of a vector, compare the result of simply using the function <code>sum</code>. Use the function <code>Sys.time()</code> to record the time, for example:</li>
</ol>
<pre class="r"><code>start&lt;- Sys.time()

#computation

end&lt;- Sys.time()
end - start</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Write a loop to print out all the prime numbers smaller than 50.</li>
<li>Make an operator %$&gt;€% to detect if the amount of money of the left hand side is greater than the right hand side. Where the left hand side is holding US dollars ($) and the right hand side is holding Euros (€). The exchange rate is 1€ = 1.1$.</li>
<li>Use <code>apply</code> to compute the coefficient of variation (CV) of each column in the steam dataset.</li>
<li>Use <code>sapply</code> to calcluate the object size of all the objects under current environment. Hint: you will need functions <code>ls()</code> and <code>object.size()</code>.</li>
</ol>
</div>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
