---
title: "Course Material [1]"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(comment = "#>", collapse = TRUE)
```

## 0. Getting Started!

## Why Learning R?

* Free (impotrant!)
* Massive statistical packages
* More and more popular in both academia and industry
* _... Millions of  other reasons_


* Download R from [CRAN](https://cran.r-project.org/mirrors.html)
* You can also Download an useful GUI called [RStudio](https://www.rstudio.com/products/rstudio/)


### RStudio
Create a script by clicking _File_ >> _New File_ >> _R Script_

To execute your code, highlight the code you wish to execute and press _Ctrl + Enter_

![](rstudio.png){width=500px}
<br>

### RGui (Windows)
Create a script by clicking _File_ >> _New Script_

To execute your code, highlight the code you wish to execute and press _F5_

![](rwindows.jpg){width=500px}

<br>

### RGui (Mac OS)
Create a script by clicking _File_ >> _New Document_

To execute your code, highlight the code you wish to execute and press _Ctrl + Enter_

![](rapple.png){width=500px}

<br>

### Set up the working directory

```{r, eval=FALSE}
getwd()
```

List all the files/folders under the current working directory

```{r, eval=FALSE}
dir()
```

Change the working directory (mind the `/`)

```{r, eval=FALSE}
setwd("/Users/chienlu/Desktop")
```

### Quit the R session

```{r, eval=FALSE}
q()
```

### *Exercise Pack 0*
1. Check your current directory with the function `getwd`.
2. Change your working directory to your desktop and list all the file/folders

## 1. R as Calculator

You can start with playing around with R, use it as a calculator

```{r}
1 + 3
6*(5-1)
```

Some useful operators:

* `+`: addition
* `-`: subtraction
* `*`: multiplication
* `/`: division
* `x %% y`: modulus (Remainder from division)
* `x %/% y`: integer division
* `^ or **`: exponentiation, e.g. `3^2` or `3**2` to compute $3^2$ 

__?__ What is the output of the following code?

* `-1^2` = ?
* `(-1)^2` = ?

You can also try out some more complicated (fancier) computations, such as Trigonometric functions (high school nightmare):

* `sin()`: sine 
* `cos()`: cosine
* `tan()`: tangent
* `exp()`: Exponential with base _e_
* `log()`: Logarithm
* `log10()`: Logarithm with the base 10
* `sqrt()`: Square root
* `abs()`: Absolute value
* `round()`: Round the value
* `floor()`: Round down the value
* `ceiling()`: Round up the value
* `factorial()`: Factorial function
* `gamma()`: Gamma function
* `digamma()`: Digamma function
* ...

__?__ What are the solutions to the following equations

* sin($\frac{\pi}{2}$) = ?
* cos($\pi$) = ?
* tan($\frac{\pi}{4}$) = ?

__?__ Can you verify if the function `factorial` returns the correct result of $5!$?
```{r}
5*4*3*2*1
factorial(5)
```

You also can use `function` to define your own function (will go back to this later)

```{r}
my_square<- function(x){
  x^2
}

my_square(4)
```

where `<-` is the assignment operator

### *Exercise Pack 1*
1. Calculate the volume of a sphere (ball) whose raduis $r = 2$
2. What is $35^\circ C$ in Fahrenheit ($^\circ F$)?
3. Use 5 different $\theta$ values to calculate the result of $sin(\theta)^2 + cos(\theta)^2$
4. In a right triangle with sides $a = b = 2 < c$, how long is $c$? (Use Pythagorean Theorem)

## 2. Basic R Objects

### Assign value

Use `<-` to assign a value to an object
```{r}
x<- 1
x
```

of course, `=` also works
```{r}
x = 1
x
```

Use `class`, `mode` or `typeof` to check the type of the object

```{r}
x<- 1.1
class(x)
mode(x)
typeof(x)
```

### Working environment
List all the objects under the current working environment

```{r, eval=FALSE}
ls()
```

Remove all the objects under the current working environment

```{r, eval=FALSE}
rm(list = ls())
```

### Numbers

Numeric (real number)

```{r}
x<- 0.8
class(x)
```
Complex number
```{r}
x<- 3+0i            	
class(x)
```

Scientific notation
```{r}
x<- 9.6e-4            
```

Infinity (use `is.infinite` or `is.finite` to test)
```{r}
x<- 1/0
x

is.infinite(x)
is.finite(x)
```

Not a number (undefined result, use `is.nan` to test)
```{r}
x<- 0/0
x
is.nan(x)
```

Null object (use `is.null` to test)
```{r}
x<- NULL
is.null(x)
```

Not available/missing value (use `is.na` to test)
```{r}
x<- NA
is.na(x)
is.nan(x)
```

Use `identical` to check if two objects are identical
```{r}
x<- 1e-3
y<- 0.001
identical(x, y)
```

### Logical
```{r}
x<- TRUE
x

y<- FALSE
y
```

or

```{r}
x<- T
x

y<- F
y
```

Some logical operators

* `!`: not
* `==`: exactly equal to
* `!=`: not equal to
* `&`: and
* `|`: or
* `<`: less than
* `<=`: less than or equal to
* `>`: greater than
* `>=`: greater than or equal to

### Strings
```{r}
a <- "hello"
a
class(a)
print("Hello R!")

```

### Exercise Pack 2
1. 
2. 
3. Check the types of the following objects
+ `Inf - Inf`
+ `Inf + Inf`
+ `0/0`
+ `sin(Inf)`
+ `Inf/0`

### Vectors

All the elements in a vector should be of the same object type. 

Use `c` to create a *vector*
```{r}
## number
exp_1<- c(1, 2, 3, 4, 5)
exp_1

## logical
exp_2<- c(TRUE, FALSE, FALSE, TRUE)
exp_2

## string
exp_3<- c("I", "am", "a", "meaningless", "example")
exp_3
```

or use `vector` to define an empty vector
```{r}
emp_vec<- vector()
emp_vec
```

Use `seq` to create a vector with sequential numbers
```{r}
a<- seq(from = 1, to = 5, by = 1)
a
```

or just simply:
```{r}
a<- 1:5
a
```

Use `rep` to create a vector with replicate elements
```
b<- rep(x = 1, times = 3)
b
```

* `min()` and `max()`: Minimum value and maximum value within a vector
* `which.min()` and `which.max()`: Index of the minimal element and maximal
element of a vector
* `pmin()` and `pmax()`: Element-wise minima and maxima of several vectors
* `sum()` and `prod()`: Sum and product of the elements of a vector
* `cumsum()` and `cumprod()`: Cumulative sum and product of the elements of a
vector

Concatenate vectors
```{r}
vec_1<- c(1, 1, 1)
vec_2<- c(2, 2, 2)
vec_join<- c(vec_1, vec_2)
vec_join

vec_3<- c(3, 3, 3)
vec_join<- c(vec_1, vec_2, vec_3)
vec_join
```

Subset a vector
```{r}
a<- c(1, 2, 3, 4, 5)

# extract with indices
a[c(1, 3, 5)]

# extract with logicals
a[c(T, F, T, F, T)]

a %% 2 == 1

a[(a %% 2 == 1)]

# omit
a[-c(2, 4)]

a[-which(a %% 2 == 0)]

```

`NA` values in a vector
```{r}
a<- c(1, NA, 2, NA, 3)
a

b<- c(1, 2, 3, 4, 5)
b * c(1, NA, 1, NA, 1)

# replace NA with 0
a[is.na(a)]<- 0
a
```

Vectorized computation

__?__ ´a = c(1, 2, 3, 4)´ and ´b = c(1, 2, 3, 4)´ What is the value of ´a*b´?


### Factors
Represente categorical data with specifying levels (e.g. gender, education). A factor is stored as a vector of integers with corresponding labels.

```{r}
x<- c("Python user", "R user", "C++ user", "R user", "C++ user", "JAVA user", "R user")
f_x<- factor(x)
f_x
levels(f_x)
nlevels(f_x)
class(f_x)
summary(f_x)
```

or assign the labels you prefer

```{r}
x<- c(1, 2, 1, 2, 1, 1, 1)
f_x<- factor(x, labels = c("male", "female"))
f_x
summary(f_x)
```

or by spliting a vector into groups with the function `cut`

```{r}
x<- c(12, 64, 47, 36, 31, 64, 25, 34,  6, 89)
f_x<- cut(x, c(0, 14, 64, 100))
f_x

levels(f_x)<- c("child", "labor", "aged")
summary(f_x)
```

### Matrices
Define a matrix
```{r}
x<- matrix(1:15, nrow = 3, ncol = 5)
x
```

Subset a matrix
```{r}
x<- matrix(1:15, nrow = 3, ncol = 5)
x[2,]
x[,1]
x[2,1:3]
x[1:2,c(1,3)]
```

### Arrays
Define an array
```{r}
x<- array(1:24, dim = c(4, 3, 2))
x

x[3,,]
x[3,2,]
x[3,2,1]
```

### Lists
```{r}
x<- list(name = "miina", age = 25, score = 1, pass = T, gender = "female")
length(x)
x$name
x[2]
x[[3]]
x["pass"]
x[["gender"]]
```

### Data Frames
A data frame generalized matrix in which each column may have different object types. It can be also seen as aa list of colume vectors with all equal length, thus, the way to extract the colums is the same as how you do on a list.
```{r}
dat<- data.frame(id = 1:5, age = c(15, 5, 11, 10, 95), city = c("Tampere", "Pori", "Tampere", "Helsinki", "Turku"))
dat
dat$id
dat[2]
```

### Exercise Pack 3
1. Create a vector which its variance value equals to 0 and mean value equals to 5.
2. Create a function which returns the sum of the maximum and the mininum value of the input vector

## 4. Basic Computation

### Loops

For loop
```{r}
for(i in 1:5){
  print(i)
}
```

While loop
```{r}
i<- 1
while(i < 5){
  i<- i + 2
}
```

### Functions
```{r}
```

### Apply functions
`apply`, `sapply`, `lapply`

```{r}
```

### Useful tips

You can use `#` to add comment, the code after will not be executed.

```{r}
a<- c(1, 2, 3) #I have no idea why I created this vector
```

Use `?` to call R help when you have difficulties.

```{r}
?c
```

### Exercise Pack 4

1. Write a for loop to sum up all the elements of a vector, compare the result of simply using the function `sum`. Use the function `Sys.time()` to record the time, for example:
```{r, eval=F}
start<- Sys.time()

#computation

end<- Sys.time()
end - start
```

2. Write a loop to print out all the prime numbers smaller than 50
3. 