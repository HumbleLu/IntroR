---
title: "Course Material [1]"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(comment = "#>", collapse = TRUE)
```

## 0. Getting Started!

## Why Learning R?

* Free (impotrant!)
* Massive statistical packages
* More and more popular in both academia and industry
* _... Millions of  other reasons_


* Download R from [CRAN](https://cran.r-project.org/mirrors.html)
* You can also Download an useful GUI called [RStudio](https://www.rstudio.com/products/rstudio/)


### RStudio
Create a script by clicking _File_ >> _New File_ >> _R Script_

To execute your code, highlight the code you wish to execute and press _Ctrl + Enter_

![](rstudio.png){width=500px}
<br>

### RGui (Windows)
Create a script by clicking _File_ >> _New Script_

To execute your code, highlight the code you wish to execute and press _F5_

![](rwindows.jpg){width=500px}

<br>

### RGui (Mac OS)
Create a script by clicking _File_ >> _New Document_

To execute your code, highlight the code you wish to execute and press _Ctrl + Enter_

![](rapple.png){width=500px}

<br>

### Set up the working directory

```{r, eval=FALSE}
getwd()
```

List all the files/folders under the current working directory

```{r, eval=FALSE}
dir()
```

Change the working directory (mind the `/`)

```{r, eval=FALSE}
setwd("/Users/chienlu/Desktop")
```

### Quit the R session

```{r, eval=FALSE}
q()
```

### *Exercise 1*
1. Check your current directory
2. Change your working directory to your desktop and list all the file/folders

## 1. R as Calculator

You can start with playing around with R, use it as a calculator

```{r}
1 + 3
6*(5-1)
```

you can also try out some more complicated (fancier) computations, such as Trigonometric functions (high school nightmare):

* sin($\frac{\pi}{2}$) = ?
* cos($\pi$) = ?
* tan($\frac{\pi}{4}$) = ?

find out the answers using functions `sin()`, `cos()`, and `tan()`, for example:

```{r}
sin(pi/2)
```

or other mathematical functions are available, such as: 

* `exp()`: Exponential with base _e_
* `log()`: Logarithm
* `log10()`: Logarithm with the base 10
* `sqrt()`: Square root
* `abs()`: Absolute value
* `round()`: Round the value
* `floor()`: Round down the value
* `ceiling()`: Round up the value
* `factorial()`: Factorial function

Verify if the function `factorial` returns the correct value
```{r}
factorial(5)
5*4*3*2*1
```

You also can use `function` to define your own function 

```{r}
my_square<- function(x){
  x^2
}

my_square(4)
```

where `<-` is the assignment operator

## Exercise Pack 1
1. Set the working directory to your Desktop and use `getwd` to verify


## 3. Basic R Objects

### Assign value

Use `<-` to assign a value to an object
```{r}
x<- 1
x
```

of course, `=` also works
```{r}
x = 1
x
```

Use `class`, `mode` or `typeof` to check the type of the object

```{r}
x<- 1.1
class(x)
mode(x)
typeof(x)
```

### Working environment
List all the objects under the current working environment

```{r, eval=FALSE}
ls()
```

Remove all the objects under the current working environment

```{r, eval=FALSE}
rm(list = ls())
```

### Numbers

Numeric (real number)

```{r}
x<- 0.8
class(x)
```
Complex number
```{r}
x<- 3+0i            	
class(x)
```

Scientific notation
```{r}
x<- 9.6e-4            
```

Infinity (use `is.infinite` or `is.finite` to test)
```{r}
x<- 1/0
x

is.infinite(x)
is.finite(x)
```

Not a number (undefined result, use `is.nan` to test)
```{r}
x<- 0/0
x
is.nan(x)
```

Null object (use `is.null` to test)
```{r}
x<- NULL
is.null(x)
```

Not available/missing value (use `is.na` to test)
```{r}
x<- NA
is.na(x)
is.nan(x)
```

### Logical
```{r}
x<- TRUE
x

y<- FALSE
y
```

or

```{r}
x<- T
x

y<- F
y
```

Some logical operators

* `!`: not
* `==`: exactly equal to
* `!=`: not equal to
* `&`: and
* `|`: or
* `<`: less than
* `<=`: less than or equal to
* `>`: greater than
* `>=`: greater than or equal to

### Strings
```{r}
a <- "hello"
a
class(a)
print("Hello R!")

```

## Exercise Pack 2
1. Set the working directory to your Desktop and use `getwd` to verify

### Vectors

All the elements in a vector should be of the same object type. 

Use `c` to create a *vector*
```{r}
## number
exp_1<- c(1, 2, 3, 4, 5)
exp_1

## logical
exp_2<- c(TRUE, FALSE, FALSE, TRUE)
exp_2

## string
exp_3<- c("I", "am", "a", "meaningless", "example")
exp_3
```

or use `vector` to define an empty vector
```{r}
emp_vec<- vector()
emp_vec
```

Use `seq` to create a vector with sequential numbers
```{r}
a<- seq(from = 1, to = 5, by = 1)
a
```

or just simply:
```{r}
a<- 1:5
a
```

* `min()` and `max()`: Minimum value and maximum value within a vector
* `which.min()` and `which.max()`: Index of the minimal element and maximal
element of a vector
* `pmin()` and `pmax()`: Element-wise minima and maxima of several vectors
* `sum()` and `prod()`: Sum and product of the elements of a vector
* `cumsum()` and `cumprod()`: Cumulative sum and product of the elements of a
vector

Concatenate vectors
```{r}
vec_1<- c(1, 1, 1)
vec_2<- c(2, 2, 2)
vec_join<- c(vec_1, vec_2)
vec_join

vec_3<- c(3, 3, 3)
vec_join<- c(vec_1, vec_2, vec_3)
vec_join
```

Subset a vector
```{r}
a<- c(1, 2, 3, 4, 5)

# extract with indices
a[c(1, 3, 5)]

# extract with logicals
a[c(T, F, T, F, T)]

a %% 2 == 1

a[(a %% 2 == 1)]

# omit
a[-c(2, 4)]

a[-which(a %% 2 == 0)]

```

`NA` values in a vector
```{r}
a<- c(1, NA, 2, NA, 3)
a

b<- c(1, 2, 3, 4, 5)
b * c(1, NA, 1, NA, 1)

# replace NA with 0
a[is.na(a)]<- 0
a
```

### Factors
Represente categorical data with specifying levels (e.g. gender, education). A factor is stored as a vector of integers with corresponding labels.

```{r}
x<- c("Python user", "R user", "C++ user", "R user", "C++ user", "JAVA user", "R user")
f_x<- factor(x)
f_x
levels(f_x)
nlevels(f_x)
class(f_x)
summary(f_x)
```

or assign the labels you prefer

```{r}
x<- c(1, 2, 1, 2, 1, 1, 1)
f_x<- factor(x, labels = c("male", "female"))
f_x
summary(f_x)
```

or by spliting a vector into groups with the function `cut`

```{r}
x<- c(12, 64, 47, 36, 31, 64, 25, 34,  6, 89)
f_x<- cut(x, c(0, 14, 64, 100))
f_x

levels(f_x)<- c("child", "labor", "aged")
summary(f_x)
```

### Matrices
Define a matrix
```{r}
x<- matrix(1:15, nrow = 3, ncol = 5)
x
```

Subset a matrix
```{r}
x<- matrix(1:15, nrow = 3, ncol = 5)
x[2,]
x[,1]
x[2,1:3]
x[1:2,c(1,3)]
```

### Array
Define an array
```{r}
x<- array(1:24, dim = c(4, 3, 2))
x

x[3,,]
x[3,2,]
x[3,2,1]
```

### List
```{r}
x<- list(name = "miina", age = 25, score = 1, pass = T, gender = "female")
length(x)
x$name
x[2]
x[[3]]
x["pass"]
x[["gender"]]
```

### Data Frame

## Exercise Pack 3
1. Check the types of the following objects
+ `Inf - Inf`
+ `Inf + Inf`
+ `0/0`
+ `sin(Inf)`
+ `Inf/0`
2. Create a vector which its variance value equals to 0 and mean value equals to 5.
3. Create a function to convert the degree Celsius to degree Fahrenheit
4. Create a function which returns the sum of the maximum and the mininum value of the input vector

Use `rep` to create a vector with replicate elements
```
b<- rep(x = 1, times = 3)
b
```

## 4. Basic Computation

For loop
```{r}
for(i in 1:5){
  print(i)
}
```

While loop
```{r}
i<- 1
while(i < 5){
  i<- i + 2
}
```

Apply functions
`apply`, `sapply`, `lapply`

```{r}
```
## Exercise Pack

1. Using a loop two print out all the prime numbers smaller than 50
2. 
3. 


### Useful tips

You can use `#` to add comment, the code after will not be executed.

```{r}
a<- c(1, 2, 3) #I have no idea why I created this vector
```

Use `?` to call R help when you have difficulties.

```{r}
?c
```

For efficient computation, try to use apply functions instead of for-loop

